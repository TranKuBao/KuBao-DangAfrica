version: '3.8'

services:
  appseed-app:
    container_name: appseed_app
    restart: always
    build: .
    networks:
      - db_network
      - web_network
    volumes: 
      - ./:/app

  nginx:
    container_name: nginx
    restart: always
    image: "nginx:latest"
    ports:
      - "5085:5085"
      - "40000:40000"
      - "40001:40001"
      - "40002:40002"
      - "40003:40003"
      - "40004:40004"
      - "40005:40005"
      - "40006:40006"
      - "40007:40007"
      - "40008:40008"
      - "40009:40009"
      - "40010:40010"
      - "40011:40011"
      - "40012:40012"
      - "40013:40013"
      - "40014:40014"
      - "40015:40015"
      - "40016:40016"
      - "40017:40017"
      - "40018:40018"
      - "40019:40019"
      - "40020:40020"
      - "40021:40021"
      - "40022:40022"
      - "40023:40023"
      - "40024:40024"
      - "40025:40025"
      - "40026:40026"
      - "40027:40027"
      - "40028:40028"
      - "40029:40029"
      - "40030:40030"
      - "40031:40031"
      - "40032:40032"
      - "40033:40033"
      - "40034:40034"
      - "40035:40035"
      - "40036:40036"
      - "40037:40037"
      - "40038:40038"
      - "40039:40039"
      - "40040:40040"
      - "40041:40041"
      - "40042:40042"
      - "40043:40043"
      - "40044:40044"
      - "40045:40045"
      - "40046:40046"
      - "40047:40047"
      - "40048:40048"
      - "40049:40049"
      - "40050:40050"
      - "40051:40051"
      - "40052:40052"
      - "40053:40053"
      - "40054:40054"
      - "40055:40055"
      - "40056:40056"
      - "40057:40057"
      - "40058:40058"
      - "40059:40059"
      - "40060:40060"
      - "40061:40061"
      - "40062:40062"
      - "40063:40063"
      - "40064:40064"
      - "40065:40065"
      - "40066:40066"
      - "40067:40067"
      - "40068:40068"
      - "40069:40069"
      - "40070:40070"
      - "40071:40071"
      - "40072:40072"
      - "40073:40073"
      - "40074:40074"
      - "40075:40075"
      - "40076:40076"
      - "40077:40077"
      - "40078:40078"
      - "40079:40079"
      - "40080:40080"
      - "40081:40081"
      - "40082:40082"
      - "40083:40083"
      - "40084:40084"
      - "40085:40085"
      - "40086:40086"
      - "40087:40087"
      - "40088:40088"
      - "40089:40089"
      - "40090:40090"
      - "40091:40091"
      - "40092:40092"
      - "40093:40093"
      - "40094:40094"
      - "40095:40095"
      - "40096:40096"
      - "40097:40097"
      - "40098:40098"
      - "40099:40099"
      - "40100:40100"
    volumes:
      - ./nginx:/etc/nginx/conf.d
    networks:
      - web_network
    depends_on: 
      - appseed-app

networks:
  db_network:
    driver: bridge
  web_network:
    driver: bridge
